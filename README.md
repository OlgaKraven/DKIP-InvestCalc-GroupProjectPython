# InvestCalc ‚Äî –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏—Ç–∏–∫ –ò–°  - –ì—Ä—É–ø–ø–æ–≤–æ–π —É—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –°–ü–û / DataForge

---

## –û –ø—Ä–æ–µ–∫—Ç–µ

**InvestCalc** ‚Äî —ç—Ç–æ —É—á–µ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ IT-–ø—Ä–æ–µ–∫—Ç–æ–≤.  
–°–µ—Ä–≤–∏—Å –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å:

- CAPEX / OPEX
- –¥–µ–Ω–µ–∂–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ (Cashflow)
- –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (NPV, IRR, Payback Period)
- —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Ä–∞–∑–≤–∏—Ç–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å ¬±20%
- —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤
- –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏ (HTML/PDF)

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –æ—Å–Ω–æ–≤–∞ **–≥—Ä—É–ø–ø–æ–≤–æ–π —Ä–∞–±–æ—Ç—ã**, –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —ç–∫–∑–∞–º–µ–Ω–∞.

---

## –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

### **Backend**
- Python 3.12  
- FastAPI  
- Pydantic / Pydantic Settings  
- Uvicorn  

###### **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**
- Docker  
- Docker Compose  
- GitHub Actions (CI/CD)  
- MkDocs Material (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)

###### **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞**
- pytest + pytest-asyncio  
- Ruff, Black, Isort  
- MkDocs + Mermaid  

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```

investcalc/
‚îÇ
‚îú‚îÄ‚îÄ src/                  ## –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ FastAPI
‚îÇ   ‚îú‚îÄ‚îÄ main.py
‚îÇ   ‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îî‚îÄ‚îÄ api/
‚îÇ
‚îú‚îÄ‚îÄ data/                 ## JSON-—Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ
‚îú‚îÄ‚îÄ tests/                ## –º–æ–¥—É–ª—å–Ω—ã–µ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îÇ
‚îú‚îÄ‚îÄ docs/                 ## –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (MkDocs)
‚îÇ   ‚îú‚îÄ‚îÄ index.md
‚îÇ   ‚îú‚îÄ‚îÄ README.md
‚îÇ   ‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îú‚îÄ‚îÄ stylesheets/
‚îÇ   ‚îî‚îÄ‚îÄ ...–º–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–æ–≤...
‚îÇ
‚îú‚îÄ‚îÄ templates/            ## –≤—Å–µ —à–∞–±–ª–æ–Ω—ã (ADR, –¢–ó, —Ç–µ—Å—Ç—ã, –æ—Ç—á—ë—Ç—ã, –±–∞–≥–∏ –∏ —Ç.–¥.)
‚îÇ
‚îú‚îÄ‚îÄ devops/
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îú‚îÄ‚îÄ docker-compose.yml
‚îÇ   ‚îú‚îÄ‚îÄ backup-restore.md
‚îÇ   ‚îú‚îÄ‚îÄ healthchecks.md
‚îÇ   ‚îú‚îÄ‚îÄ logging.md
‚îÇ   ‚îú‚îÄ‚îÄ monitoring.md
‚îÇ   ‚îú‚îÄ‚îÄ ci-guide.md
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îú‚îÄ‚îÄ ISSUE_TEMPLATE/
‚îÇ   ‚îú‚îÄ‚îÄ PULL_REQUEST_TEMPLATE/
‚îÇ   ‚îî‚îÄ‚îÄ workflows/
‚îÇ       ‚îú‚îÄ‚îÄ tests.yml
‚îÇ       ‚îú‚îÄ‚îÄ ci.yml
‚îÇ       ‚îî‚îÄ‚îÄ build.yml
‚îÇ
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ mkdocs.yml

```

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

#### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –±–µ–∑ Docker

```bash
pip install -r requirements.txt
uvicorn src.main:app --reload
````

–°–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞:
üëâ [http://127.0.0.1:8000/](http://127.0.0.1:8000/)

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API (Swagger):
üëâ [http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs)

---

#### –ó–∞–ø—É—Å–∫ –≤ Docker

###### –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫:

```bash
docker compose up --build
```

–û—Å—Ç–∞–Ω–æ–≤–∫–∞:

```bash
docker compose down
```

---

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ **MkDocs Material**.

###### –õ–æ–∫–∞–ª—å–Ω—ã–π –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä:

```bash
mkdocs serve
```

###### –ü—É–±–ª–∏–∫–∞—Ü–∏—è –Ω–∞ GitHub Pages:

```bash
mkdocs gh-deploy --clean
```

üëâ –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –Ω–∞–≤–∏–≥–∞—Ü–∏–∏: `mkdocs.yml`

–í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤–∫–ª—é—á–µ–Ω–æ:

* –≤–≤–µ–¥–µ–Ω–∏–µ
* —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
* –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
* C4
* ADR (30+)
* API
* DevOps
* —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
* –æ—Ç—á—ë—Ç—ã
* –∫–æ–º–∞–Ω–¥–Ω–∞—è —Ä–∞–±–æ—Ç–∞
* —à–∞–±–ª–æ–Ω—ã (–¢–ó, ADR, –±–∞–≥–∏, –æ—Ç—á—ë—Ç—ã, user story...)

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

* **–°–ª–æ–π API:** –º–∞—Ä—à—Ä—É—Ç—ã FastAPI (`src/api/v1/‚Ä¶`)
* **–°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π:** –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á—ë—Ç–æ–≤
* **–ú–æ–¥–µ–ª–∏:** –≤—Ö–æ–¥–Ω—ã–µ –∏ –≤—ã—Ö–æ–¥–Ω—ã–µ —Å—Ö–µ–º—ã Pydantic
* **–•—Ä–∞–Ω–µ–Ω–∏–µ:** JSON-—Ñ–∞–π–ª—ã
* **–°—Ç—Ä—É–∫—Ç—É—Ä–∞:** –º–æ–¥—É–ª—å–Ω—ã–π –º–æ–Ω–æ–ª–∏—Ç
* **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** C4, ADR, API –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã

–î–∏–∞–≥—Ä–∞–º–º—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤:

```
docs/03-architecture/
```

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:

```bash
pytest -vv
```

–í–∫–ª—é—á–∞–µ—Ç:

* healthcheck
* —Ä–∞—Å—á—ë—Ç—ã
* —Å—Ü–µ–Ω–∞—Ä–∏–∏
* –≤–∞–ª–∏–¥–∞—Ü–∏—é –º–æ–¥–µ–ª–µ–π
* API-endpoints

–ü–∞–ø–∫–∞ —Ç–µ—Å—Ç–æ–≤:

```
tests/
```

---

## CI/CD

GitHub Actions:

| Workflow    | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                               |
| ----------- | ---------------------------------------- |
| `tests.yml` | pytest (Python 3.11‚Äì3.12)                |
| `ci.yml`    | –ª–∏–Ω—Ç–µ—Ä—ã, —Ç–µ—Å—Ç—ã, —Å–±–æ—Ä–∫–∞ MkDocs            |
| `build.yml` | —Å–±–æ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑–∞ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ GHCR |

Docker Image –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è –∫–∞–∫:

```
ghcr.io/<owner>/<repo>:latest
```

---

## Docker

–î–æ–∫–µ—Ä–∏–∑–∞—Ü–∏—è –≤–∫–ª—é—á–∞–µ—Ç:

* –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Python slim-–æ–±—Ä–∞–∑
* healthchecks
* —Ç–æ–º –¥–ª—è –¥–∞–Ω–Ω—ã—Ö
* —Å–±–æ—Ä–∫—É API

–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:

```
devops/Dockerfile
docker-compose.yml
```

---

## DevOps, Security, Monitoring

–ü—Ä–æ–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç:

* healthchecks (`/health`)
* —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
* —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¥–µ–ø–ª–æ—é
* –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏
* –ø–æ–ª–∏—Ç–∏–∫–∞ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
* observability-–≥–∞–π–¥
* scaling-–≥–∞–π–¥
* security-hardening

–î–æ–∫—É–º–µ–Ω—Ç—ã –ª–µ–∂–∞—Ç –≤:

```
docs/08-devops/
```

---

## –®–∞–±–ª–æ–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–í—Å–µ —à–∞–±–ª–æ–Ω—ã –ø–æ–º–µ—â–µ–Ω—ã –≤ `templates/`:

* ADR (–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, API, DevOps, Structure, Logging‚Ä¶)
* C4 Model template
* –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ (–¢–ó)
* API contract
* Use Case
* User Story
* UI prototype
* Bug Report
* Test Case
* Test Plan
* Regression Checklist
* Pull Request Template
* –®–∞–±–ª–æ–Ω—ã –æ—Ç—á—ë—Ç–æ–≤ (–≥—Ä—É–ø–ø–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, –ø—Ä–∞–∫—Ç–∏–∫–∏)
* Diary template

–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ MkDocs.

---

## –ö–æ–º–∞–Ω–¥–Ω–∞—è —Ä–∞–±–æ—Ç–∞

–í –ø—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–µ–Ω–æ:

* –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã
* —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á
* –º–∞—Ç—Ä–∏—Ü–∞ –≤–∫–ª–∞–¥–æ–≤
* –ø—Ä–æ–µ–∫—Ç–Ω–∞—è —Ö–∞—Ä—Ç–∏—è
* –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π –ø–ª–∞–Ω
 