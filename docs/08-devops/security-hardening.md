# Security Hardening — Усиление безопасности InvestCalc

Документ описывает меры по повышению безопасности FastAPI-сервиса.

---

## 1. Безопасность API

- включить CORS-политику по доменам;
- ограничить размер тела запроса;
- использовать валидацию Pydantic;
- ограничить скорость запросов (rate limiting).

---

## 2. Безопасность Docker

- запускать приложение от non-root пользователя;
- использовать минимальный базовый образ (python:slim);
- не включать dev-зависимости в продовый образ;
- включить read-only filesystem (опционально).

---

## 3. Безопасность конфигурации

- чувствительные данные хранить в переменных окружения;
- запрещено хранить секреты в GitHub;
- использовать `.env` только локально (и вне Git).

---

## 4. Transport Layer Security (когда появится деплой)

- всё общение только по HTTPS;
- использовать reverse proxy (Caddy, Nginx);
- HSTS + TLS 1.2/1.3.

---

## 5. Защита от атак

- SQL Injection (не актуально сейчас, актуально при добавлении БД);
- path traversal — запрещаем доступ к внешним файлам;
- XSS — экранировать HTML при генерации отчётов;
- DoS — использовать лимиты ресурсов Docker.

