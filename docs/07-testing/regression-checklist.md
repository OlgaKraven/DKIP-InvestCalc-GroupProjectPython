# Regression Checklist — Чек-лист регрессионного тестирования InvestCalc

Документ содержит **список минимальных проверок**, которые нужно выполнить
перед сдачей проекта, релизом версии или показом на защите.

Чек-лист дополняет:

- `test-plan.md`
- `test-strategy.md`
- `test-cases.md`

---

## 1. Как использовать чек-лист

- Перед сдачей проекта команда проходит по пунктам чек-листа.
- Каждый пункт помечается как:
  - ✅ выполнено,
  - ⚠ частично,
  - ⛔ не выполнено (с указанием причины).
- Чек-лист можно приложить к отчёту как доказательство проведённого тестирования.

---

## 2. Чек-лист функционального тестирования

| № | Пункт проверки | Статус | Комментарий |
|---|----------------|--------|-------------|
| 1 | Выполнены все unit-тесты сервисного слоя (`test_service.py`) |  |  |
| 2 | Выполнены все тесты анализа чувствительности (`test_sensitivity.py`) |  |  |
| 3 | Выполнены все API-тесты (`test_api.py`) |  |  |
| 4 | Тест TC-01: «Проект окупается» (позитивный сценарий) успешно пройден |  |  |
| 5 | Тест TC-02: «Проект не окупается» даёт корректный `is_profitable=false` и `payback=null` |  |  |
| 6 | Тест TC-10: анализ чувствительности даёт три варианта (low/base/high) |  |  |
| 7 | Тест TC-20: сравнение сценариев корректно выбирает лучший по ROI |  |  |
| 8 | Тест TC-21: при равном ROI используется TCO как второй критерий |  |  |

---

## 3. Чек-лист по валидации и ошибкам

| № | Пункт проверки | Статус | Комментарий |
|---|----------------|--------|-------------|
| 9  | Отрицательный CAPEX (`capex < 0`) даёт ошибку (400/422) с понятным сообщением |  |  |
| 10 | Нулевой период (`period = 0`) даёт ошибку валидации |  |  |
| 11 | Некорректный тип данных (строка вместо числа) корректно обрабатывается Pydantic (422) |  |  |
| 12 | Ошибки бизнес-логики возвращаются в формате, описанном в `errors-and-status-codes.md` |  |  |

---

## 4. Чек-лист API и документации

| № | Пункт проверки | Статус | Комментарий |
|---|----------------|--------|-------------|
| 13 | Swagger UI (`/docs`) отрабатывает без ошибок |  |  |
| 14 | ReDoc (`/redoc`) открывается и отображает схемы |  |  |
| 15 | `openapi.json` доступен и корректно загружается |  |  |
| 16 | Все описанные эндпоинты в `endpoints-invest.md` реально существуют и работают |  |  |
| 17 | Примеры запросов из документации проверены (curl / Swagger) |  |  |

---

## 5. Чек-лист Docker и деплоя

| № | Пункт проверки | Статус | Комментарий |
|---|----------------|--------|-------------|
| 18 | Docker-образ успешно собирается по `devops/Dockerfile` |  |  |
| 19 | Сервис поднимается через `docker compose up` без ошибок |  |  |
| 20 | Эндпоинты `/health`, `/docs`, `/api/v1/calculate` доступны из контейнера |  |  |
| 21 | При остановке и повторном запуске контейнера сервис ведёт себя предсказуемо |  |  |

---

## 6. Чек-лист CI/CD и метрик

| № | Пункт проверки | Статус | Комментарий |
|---|----------------|--------|-------------|
| 22 | GitHub Actions (или другой CI) успешно запускает тесты при push/PR |  |  |
| 23 | Все тесты в CI проходят успешно (зелёный билд) |  |  |
| 24 | В `metrics.md` зафиксированы актуальные данные по количеству тестов и багов |  |  |
| 25 | Все критические/major-баги из `bug-report-samples.md` (и реальных багов) исправлены или документированы |  |  |
 