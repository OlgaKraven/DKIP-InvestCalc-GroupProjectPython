## Спецификация требований проекта InvestCalc

## 1. Введение

## 1.1. Назначение документа

Документ определяет состав, свойства и ограничения учебного прототипа системы **InvestCalc**, предназначенной для расчёта экономической эффективности информационных систем (TCO, ROI, Payback Period, анализ чувствительности).

Спецификация служит основой для:

* архитектурного проектирования;
* разработки API;
* тестирования;
* создания отчётов и презентаций.

## 1.2. Область применения

InvestCalc используется в учебном процессе для демонстрации полного цикла проектирования и разработки информационных систем.

Система моделирует расчёты экономических показателей, применимых в ИТ-проектах.

## 1.3. Определения и сокращения

* **CAPEX** — капитальные затраты.
* **OPEX** — операционные расходы.
* **TCO** — совокупная стоимость владения.
* **ROI** — возврат инвестиций.
* **PP** — срок окупаемости (Payback Period).
* **Sensitivity Analysis** — анализ чувствительности ±20%.

---

## 2. Общая характеристика

## 2.1. Цель системы

Предоставить удобный инструмент для расчёта экономической эффективности ИС, сравнения сценариев и визуализации результатов.

## 2.2. Основные пользователи

| Роль                    | Цели                                         |
| ----------------------- | -------------------------------------------- |
| Студент                 | Освоить методы анализа эффективности ИС      |
| Преподаватель           | Проверка, демонстрация, отчётность           |
| Аналитик (учебная роль) | Формирование требований, сравнение вариантов |

---

## 3. Функциональные требования

## 3.1. Расчёт TCO**Система должна уметь:

* принимать входные параметры: CAPEX, OPEX, период расчёта;

* вычислять TCO по формуле:

  ```
  TCO = CAPEX + (OPEX × period)
  ```

* возвращать результат в числовом виде.

## 3.2. Расчёт ROI

Функции:

* принимать CAPEX, OPEX и экономические эффекты;

* формула:

  ```
  ROI = (Effects - (CAPEX + OPEX)) / (CAPEX + OPEX)
  ```

* возвращать ROI в виде дроби и процента.

## 3.3. Расчёт Payback Period

* определение срока окупаемости по годовым потокам;
* поддержка нескольких сценариев анализа.

## 3.4. Анализ чувствительности ±20%

* автоматическая генерация 5 сценариев:

  * −20%
  * −10%
  * базовый
  * +10%
  * +20%
* сравнение результатов TCO, ROI и PP.

---

## 4. Нефункциональные требования

## 4.1. Требования к качеству (ISO/IEC 25010)

* **Надёжность:** обрабатывать невалидные данные корректно.
* **Удобство использования:** доступ к Swagger UI и ReDoc.
* **Производительность:** API должен рассчитывать результаты < 200 ms.
* **Безопасность:** валидация входных данных, корректные коды ошибок.

## 4.2. Требования к API

* REST API, FastAPI.
* Формат данных — JSON.
* Валидация через Pydantic.

---

## 5. Ограничения

* Проект учебный, поэтому некоторые свойства системы упрощены.
* Нет постоянного хранилища данных (расчёты выполняются в памяти).

---

## 6. Внешние интерфейсы

## 6.1. API

Система предоставляет REST API, описанный в разделе:

➡️ [API — обзор](../05-api/api-overview.md)
➡️ [Эндпоинты InvestCalc](../05-api/endpoints-invest.md)
➡️ [Коды ошибок и ответы](../05-api/errors-and-status-codes.md)

API доступен через:

* Swagger UI — `/docs`
* ReDoc — `/redoc`
* OpenAPI JSON — `/openapi.json`

---

## **7. Логическая модель данных**

Описание модели данных доступно в разделе:

➡️ [Модель предметной области](../04-data-model/domain-model.md)
➡️ [ER-диаграмма](../04-data-model/er-diagram.md)
➡️ [Структура БД](../04-data-model/db-schema.md)

---

## **8. Архитектурные решения**

Связанные разделы:

➡️ [Основные архитектурные решения (ADR)](../03-architecture/architecture-decisions.md)
➡️ [C4-модели: Context / Container / Component](../03-architecture/c4-context.md)

---

## 9. Связанные документы

## 9.1. Тестирование

➡️ **[Стратегия тестирования](../07-testing/test-strategy.md)**
➡️ **[Тест-кейсы](../07-testing/test-cases.md)**
➡️ **[Регрессионный чек-лист](../07-testing/regression-checklist.md)**

---## 10. Требования к разработке и развертыванию

## 10.1. DevOps

➡️ **[CI/CD — GitHub Actions](../08-devops/ci-cd.md)**
➡️ **[Docker](../08-devops/docker.md)**
➡️ **[Руководство по развёртыванию](../08-devops/deployment-manual.md)**

---

## 11. Заключение

Этот документ является центральной точкой входа в спецификацию проекта.
Требования согласованы с архитектурой, моделью данных, API, стратегией тестирования и DevOps-процессом, что обеспечивает согласованность всей учебной системы InvestCalc.

 