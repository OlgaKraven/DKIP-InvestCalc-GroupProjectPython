# Техническое задание (ТЗ) на разработку учебной информационной системы
 
Документ разработан в соответствии с требованиями учебных модулей ПИДИС и ГОСТ 34/19 (адаптированная версия для образовательных проектов).

---

## 1. Общие сведения

**Наименование системы:** InvestCalc — Инвестиционный аналитик ИС  
**Тип системы:** мини-информационная система, REST API-сервис  
**Назначение:** автоматизация расчётов экономической эффективности внедрения информационных систем  
**Заказчик:** учебная группа / преподаватель  
**Исполнитель:** команда студентов 2–4 человека  

---

## 2. Основания для разработки

Основаниями для разработки являются:
- учебный план модуля ПИДИС;
- задание на групповой проект (`docs/00-intro/assignment.md`);
- необходимость формирования компетенций:
  - проектирование ИС,
  - разработка API,
  - работа с документацией,
  - DevOps-сопровождение.

---

## 3. Назначение системы

Система предназначена для:
- расчёта TCO, ROI и срока окупаемости проектов внедрения ИС;
- анализа чувствительности параметров ±20%;
- сравнения альтернативных сценариев (локальный/облачный);
- использования в учебных проектах как инструмент оценки экономической эффективности;
- генерации отчётов для преподавателя или руководства.

---

## 4. Требования к системе

### 4.1. Требования к функциональности

Система должна обеспечивать следующие функции:

#### 4.1.1. Ввод данных
Пользователь или внешняя система должны иметь возможность задать:
- CAPEX,
- OPEX (годовой),
- период анализа (лет),
- годовой экономический эффект,
- параметры анализа чувствительности.

#### 4.1.2. Расчёт экономических показателей
Система выполняет:
- **TCO** = CAPEX + (OPEX × период анализа),
- **ROI** = (Эффекты × период − TCO) / TCO,
- **Payback Period** = CAPEX / (Эффект − OPEX), если эффект > OPEX.

#### 4.1.3. Анализ чувствительности
Система должна автоматически рассчитывать показатели при изменении:
- CAPEX ±20%,
- OPEX ±20%.

#### 4.1.4. Сценарный анализ
Система должна поддерживать:
- локальный сценарий (input-local.json),
- облачный сценарий (input-cloud.json),
- сравнительный анализ.

#### 4.1.5. REST API
Система должна предоставлять API:
- `POST /api/v1/calculate`
- `POST /api/v1/sensitivity`

#### 4.1.6. Генерация отчётов
Система должна обеспечивать:
- HTML-отчёт;
- (опционально) PDF-отчёт.

---

### 4.2. Требования к надёжности

- API должен корректно обрабатывать ошибочные входные данные.
- Модели Pydantic должны выполнять строгую валидацию.
- При некорректных параметрах система возвращает информативные ошибки.
- Сервис должен содержать автотесты:
  - тесты логики,
  - тесты API.

---

### 4.3. Требования к производительности

- расчёт одного сценария не более 0.5 сек;
- анализ чувствительности — не более 1 сек;
- API должен поддерживать не менее 50 RPS в учебных условиях;
- документация и Swagger должны открываться < 1 сек.

---

### 4.4. Требования к интерфейсу

У системы **нет графического интерфейса**.  
Взаимодействие происходит через:
- JSON API (FastAPI);
- Swagger UI;
- HTML-отчёты.

---

### 4.5. Требования к совместимости

- система должна запускаться на Python 3.12+;
- должна поддерживать запуск в Docker;
- API должен быть совместим с фронтендами:
  - React, Vue, Angular,
  - учебные клиентские приложения.

---

### 4.6. Требования к безопасности

- данные валидируются на уровне Pydantic-моделей;
- сервис не хранит состояние (stateless);
- секреты должны задаваться через переменные окружения.

---

### 4.7. Требования к сопровождению

- проект должен включать:
  - Dockerfile,
  - docker-compose.yml,
  - CI/CD workflow,
  - инструкции по установке и запуску,
  - backup/restore инструкцию.

---

## 5. Состав и содержание работ

### 5.1. Этапы работ

1. Анализ предметной области и постановка задачи.  
2. Разработка проектной документации (ТЗ, требования, архитектура, модели).  
3. Реализация API-сервиса на FastAPI.  
4. Реализация тестов.  
5. Контейнеризация.  
6. Настройка CI/CD.  
7. Подготовка отчётности и презентации.  
8. Финальная демонстрация проекта.

---

### 5.2. Работы по документации
Команда должна подготовить:
- ТЗ,
- функциональные и нефункциональные требования,
- Use Case-модель,
- C4-диаграммы,
- ADR (не менее 2),
- ER-диаграмму,
- API-описание,
- тестовую документацию,
- DevOps-документы.

---

## 6. Требования к реализации

- язык программирования: **Python 3.12**;
- веб-фреймворк: **FastAPI**;
- модели данных: **Pydantic**;
- тестирование: **pytest**;
- статический анализ (опционально): **ruff**;
- контейнеризация: **Docker**.

---

## 7. Требования к документации

Документация должна быть структурирована и размещена в папке `/docs/`.  
Дополнительно необходимо подготовить:
- README.md,
- MkDocs-навигацию,
- итоговый отчёт,
- презентацию,
- дневник.

---

## 8. Порядок контроля и приёмки

Система считается принятой, если:
1. Все требования ТЗ реализованы.  
2. Код находится в публичном GitHub-репозитории.  
3. Выполняются все автотесты.  
4. Docker-сборка успешно запускается.  
5. CI/CD проходит без ошибок.  
6. Подготовлена полная документация.  
7. Представлен итоговый отчёт и презентация.  

---

## 9. Ограничения и допущения

- проект рассчитан на выполнение учебной командой;
- система не обрабатывает персональные данные;
- система не хранит историю расчётов (stateless);
- дальнейшее расширение возможно (БД, UI, аналитические модули).
